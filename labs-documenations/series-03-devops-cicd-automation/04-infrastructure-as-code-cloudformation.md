<img src="https://cdn.prod.website-files.com/677c400686e724409a5a7409/6790ad949cf622dc8dcd9fe4_nextwork-logo-leather.svg" alt="NextWork" width="300" />

# Infrastructure as Code with CloudFormation

**Project Link:** [View Project](http://learn.nextwork.org/projects/aws-devops-cloudformation-updated)

**Author:** Roy Piring Jr  
**Email:** rpiringhawaii@gmail.com

---

![Image](http://learn.nextwork.org/refreshed_maroon_timid_jujube/uploads/aws-devops-cloudformation-updated_bd8b836b)

---

## Introducing Today's Project!

This project converts an existing CI/CD environment into Infrastructure as Code using AWS CloudFormation. The system exists to define infrastructure declaratively so environments can be reproduced, reviewed, and changed through versioned templates rather than manual configuration.

The implementation rebuilds the CI/CD stack using CloudFormation templates after validating the manually created resources. The outcome is a reusable blueprint that provisions compute, identity, storage, and pipeline components in a controlled order.

### Key tools and concepts

The stack includes Amazon EC2, Amazon S3, AWS IAM, CodeArtifact, CodeBuild, and CodeDeploy. CloudFormation is used as the orchestration layer to express dependencies, resource properties, and lifecycle management.

These services collectively model a basic CI/CD system where build, artifact management, and deployment are provisioned as code rather than configured interactively.

### Project reflection

The primary difficulty was resolving template errors caused by incomplete resource definitions and ordering constraints. Addressing these issues required careful inspection of resource relationships and explicit dependency modeling.

Successful deployment validated that the CI/CD infrastructure could be expressed as a deterministic template suitable for repeatable provisioning.

---

## Generating a CloudFormation Template

The CloudFormation template was generated by reverse-engineering the existing environment and translating resources into declarative definitions. This process evaluates required components, produces a template, and manages deployment through the CloudFormation service.

A CloudFormation template defines AWS resources and their configuration in a text-based format. It enables repeatable provisioning of EC2 instances, S3 buckets, IAM roles, networking controls, and CI/CD services.

Some configurations were difficult to express due to service limitations or highly customized behavior. These cases required simplification or exclusion to maintain template validity and avoid unsupported constructs.

![Image](http://learn.nextwork.org/refreshed_maroon_timid_jujube/uploads/aws-devops-cloudformation-updated_0495b046)

---

## Template Testing

The template was reviewed for syntax accuracy and completeness before deployment. This step reduces the likelihood of runtime failures and unintended resource creation.

Initial stack creation failed due to syntax errors, incorrect resource references, missing properties, and invalid parameter types. These failures highlighted gaps between conceptual architecture and valid CloudFormation definitions.

![Image](http://learn.nextwork.org/refreshed_maroon_timid_jujube/uploads/aws-devops-cloudformation-updated_f56730fd)

---

## DependsOn

Template corrections included fixing resource definitions, aligning parameters, and adding missing properties. The DependsOn attribute was used to enforce creation order where implicit dependency inference was insufficient.

Explicit dependencies were added for CodeArtifact policies, CodeBuild projects, CodeDeploy deployment groups, and supporting S3 buckets to ensure prerequisite resources were available at creation time.

![Image](http://learn.nextwork.org/refreshed_maroon_timid_jujube/uploads/aws-devops-cloudformation-updated_f0df8018)

---

## Circular Dependencies

Subsequent deployment attempts exposed circular dependency issues between tightly coupled resources. These errors required restructuring resource relationships to break dependency loops.

Resolution involved iterative refinement and careful separation of roles, policies, and service integrations to satisfy CloudFormationâ€™s dependency graph constraints.

![Image](http://learn.nextwork.org/refreshed_maroon_timid_jujube/uploads/aws-devops-cloudformation-updated_e6fd85ed)

---

## Manual Additions

---

## Success!

The final template successfully deployed the defined CI/CD infrastructure. While some advanced configurations were intentionally omitted, the resulting stack provides a clear, auditable blueprint for the environment.

This outcome demonstrates that the CI/CD system can be provisioned reproducibly and reasoned about as code rather than as an opaque set of console actions.

![Image](http://learn.nextwork.org/refreshed_maroon_timid_jujube/uploads/aws-devops-cloudformation-updated_bd8b836b)

---

---
